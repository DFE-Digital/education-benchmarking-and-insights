parameters:
  workspaceDir: ''
steps:
  - checkout: none
  - download: current
  - task: ExtractFiles@1
    displayName: 'Extract a11y test files'
    inputs:
      archiveFilePatterns: '${{ parameters.workspaceDir }}/a11y-tests/a11y-tests.zip'
      destinationFolder: '${{ parameters.workspaceDir }}/a11y-tests-files'
  - task: qetza.replacetokens.replacetokens-task.replacetokens@3
    displayName: 'Replace tokens in appsettings.json'
    inputs:
      rootDirectory: '${{ parameters.workspaceDir }}/a11y-tests-files' 
      targetFiles: '**/appsettings.json'
      escape: off
      tokenPrefix: '__'
      tokenSuffix: '__'

