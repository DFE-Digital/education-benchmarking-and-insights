@model Web.App.ViewModels.SchoolCustomDataChangeViewModel
@{
    ViewData[ViewDataKeys.Title] = PageTitles.SchoolChangeData;
}

@await Component.InvokeAsync("EstablishmentHeading", new { title = PageTitles.SchoolChangeDataWorkforceData, name = Model.School.SchoolName, id = Model.School.URN, kind = OrganisationTypes.School })

@await Html.PartialAsync("_ErrorSummary")
@using (Html.BeginForm("WorkforceData", "SchoolCustomDataChange", new { urn = Model.School.URN }, FormMethod.Post, true, new { novalidate = "novalidate", id = "form-custom-data-workforce" }))
{
    @await Html.PartialAsync("_CustomDataEntryTable", Model.WorkforceDataSection)
    <button type="submit" class="govuk-button" data-module="govuk-button">
        Save changes to data
    </button>
}

@section scripts
{
    <script type="module" add-nonce="true">
        import { initAll } from '/js/govuk-frontend.min.js'
        initAll()
    </script>
}