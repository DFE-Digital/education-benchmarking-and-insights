@using Newtonsoft.Json
@using Web.App.Extensions
@model Web.App.ViewModels.LocalAuthorityHighNeedsBenchmarkingViewModel
@{
    ViewData[ViewDataKeys.Title] = PageTitles.LocalAuthorityHighNeedsBenchmarking;
}

@await Component.InvokeAsync("EstablishmentHeading", new
{
    title = ViewData[ViewDataKeys.Title],
    name = Model.Name,
    id = Model.Code,
    kind = OrganisationTypes.LocalAuthority
})

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <p class="govuk-body">
            <a href="@Url.Action("Comparators", "LocalAuthorityHighNeedsBenchmarking", new
                     {
                         code = Model.Code,
                         referrer = "benchmarking"
                     })" class="govuk-link govuk-link--no-visited-state">Change local authorities to benchmark against</a>
        </p>
    </div>
</div>

@await Component.InvokeAsync("DataSource", new
{
organisationType = OrganisationTypes.LocalAuthority,
sourceType = DataSourceTypes.HighNeeds,
pageTitle = ViewData[ViewDataKeys.Title],
className = "govuk-grid-column-two-thirds"
})

@await Html.PartialAsync("_HowDataIsPresented")

<div id="benchmark-data-high-needs"
     data-code="@Model.Code"
     data-set="@Model.Comparators.ToJson(Formatting.None)"
     data-years-label="@Model.YearsLabel"
     data-glossary-url="@Url.ActionLink("HighNeedsGlossary", "StaticContent")"
     ></div>

<hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">

@await Component.InvokeAsync("LocalAuthorityHighNeedsHelp")
