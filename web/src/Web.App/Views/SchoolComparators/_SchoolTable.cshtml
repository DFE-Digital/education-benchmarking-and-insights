@using Web.App.Extensions
@model Web.App.ViewModels.SchoolComparatorsViewModel

<table class="govuk-table">
    <thead class="govuk-table__head">
    <tr class="govuk-table__row">
        <th scope="col" class="govuk-table__header">School</th>
        <th scope="col" class="govuk-table__header">Type</th>
        <th scope="col" class="govuk-table__header">Number of pupils</th>
        <th scope="col" class="govuk-table__header">Ofsted rating</th>
        <th scope="col" class="govuk-table__header">Percentage of free school meals</th>
    </tr>
    </thead>
    <tbody class="govuk-table__body">
    @foreach (var school in Model.Schools.Where(x => x.Urn != Model.Urn))
    {
        <tr class="govuk-table__row">
            <td class="govuk-table__cell">
                <a href="@Url.Action("Index", "School", new { urn = school.Urn })" class="govuk-link">@school.SchoolName</a>
            </td>
            <td class="govuk-table__cell">@school.OverallPhase</td>
            <td class="govuk-table__cell">@school.NumberOfPupils</td>
            <td class="govuk-table__cell">@school.OfstedRatingName</td>
            <td class="govuk-table__cell">@school.FreeSchoolMealPercent.ToPercent()</td>
        </tr>
    }
    </tbody>
</table>