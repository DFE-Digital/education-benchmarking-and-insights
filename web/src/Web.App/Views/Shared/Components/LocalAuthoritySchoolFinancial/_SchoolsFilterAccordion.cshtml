@model Web.App.ViewModels.Components.LocalAuthoritySchoolFilterAccordionViewModelBase

<div class="govuk-accordion" data-module="govuk-accordion" id="accordion-@Model.FormFieldName">
    <div class="govuk-accordion__section">
        <div class="govuk-accordion__section-header">
            <h2 class="govuk-accordion__section-heading">
                <span class="govuk-accordion__section-button" id="accordion-@Model.FormFieldName-heading-1">
                    @Model.Heading
                    @if (Model.SelectedFilters!.Length > 0)
                    {
                        <span
                            class="govuk-hint app-filter__selected-hint">@($"{Model.SelectedFilters.Length} selected")</span>
                    }
                </span>
            </h2>
        </div>
        <div id="accordion-@Model.FormFieldName-content-1" class="govuk-accordion__section-content">
            <div class="govuk-form-group">
                <fieldset class="govuk-fieldset">
                    <div class="govuk-checkboxes govuk-checkboxes--small"
                         data-module="govuk-checkboxes">
                        @foreach (var filter in Model.AllFilters!)
                        {
                            <div class="govuk-checkboxes__item">
                                <input class="govuk-checkboxes__input" id="@(Model.FormFieldName)-@filter"
                                       name="@Model.FormFieldName" value="@Model.ValueSelector!(filter)" type="checkbox"
                                       @(Model.SelectedFilters.Contains(filter) ? "checked" : "")>
                                <label class="govuk-label govuk-checkboxes__label"
                                       for="@(Model.FormFieldName)-@filter">@Model.LabelSelector!(filter)</label>
                            </div>
                        }
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
</div>